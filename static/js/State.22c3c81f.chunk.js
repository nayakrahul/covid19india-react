(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[7],{152:function(t,e,a){"use strict";var n=a(0),r=a.n(n),c=a(318),i=a(319),o=a(320),l=a(321),s=a(143);e.a=r.a.memo((function(t){var e=Object(s.a)().t;return r.a.createElement("footer",{className:"fadeInUp",style:{animationDelay:"2s"}},r.a.createElement("h5",null,e("We stand with everyone fighting on the frontlines")),r.a.createElement("div",{className:"link"},r.a.createElement("a",{href:"https://github.com/covid19india",target:"_blank",rel:"noopener noreferrer"},"covid19india")),r.a.createElement("a",{href:"https://github.com/covid19india/covid19india-react",className:"button github",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(c.a,null),r.a.createElement("span",null,e("Open Sourced on GitHub"))),r.a.createElement("a",{className:"button excel",href:"http://patientdb.covid19india.org",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(i.a,null),r.a.createElement("span",null,e("Crowdsourced Patient Database"))),r.a.createElement("a",{href:"https://twitter.com/covid19indiaorg",target:"_blank",rel:"noopener noreferrer",className:"button twitter",style:{justifyContent:"center"}},r.a.createElement(o.a,null),r.a.createElement("span",null,e("View updates on Twitter"))),r.a.createElement("a",{href:"https://bit.ly/covid19crowd",className:"button telegram",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(l.a,null),r.a.createElement("span",null,e("Join Telegram to Collaborate!"))))}))},153:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n=a(32),r=a(232),c=a(0),i=function(t){var e=Object(c.useState)(null),a=Object(n.a)(e,2),i=a[0],o=a[1];return Object(c.useEffect)((function(){var e=t.current,a=new r.a((function(t,e){t.forEach((function(t,e){o(t.contentRect)}))}));return a.observe(e),function(){a.unobserve(e)}}),[t]),i}},171:function(t,e,a){"use strict";var n=a(32),r=a(33),c=a(48),i=a(147),o=a(54),l=a.n(o),s=a(145),u=a.n(s),d=a(0),m=a.n(d),f=a(143),p=a(23);var v=m.a.memo((function(t){var e=t.statistic,a=t.total,n=t.delta,r=Object(f.a)().t,o=Object(p.c)({total:a,delta:n,from:{total:a,delta:n}},p.b.stiff);return m.a.createElement(m.a.Fragment,null,m.a.createElement("h5",null,r(Object(c.b)(e))),m.a.createElement(p.a.h4,null,"active"!==e?n>0?o.delta.interpolate((function(t){return"+".concat(Object(c.g)(Math.floor(t)))})):m.a.createElement(i.a,{size:9,verticalAlign:2}):"\xa0"),m.a.createElement(p.a.h1,null,o.total.interpolate((function(t){return Object(c.g)(Math.floor(t))}))))}));e.a=m.a.memo((function(t){var e=t.data,a=Object(p.e)(4,(function(){return{transform:"translate3d(0, 20px, 0)",opacity:0,config:p.b.stiff}})),i=Object(n.a)(a,2),o=i[0];return(0,i[1])({transform:"translate3d(0, 0px, 0)",opacity:1}),m.a.createElement("div",{className:"Level"},r.n.map((function(t,a){return m.a.createElement(p.a.div,{key:a,className:l()("level-item","is-".concat(t)),style:o[a]},m.a.createElement(v,Object.assign({statistic:t},{total:Object(c.j)(e,"total",t),delta:Object(c.j)(e,"delta",t)})))})))}),(function(t,e){return!!u()(Object(c.j)(t.data,"total","active"),Object(c.j)(e.data,"total","active"))}))},173:function(t,e,a){"use strict";var n=a(33),r=a(48),c=a(54),i=a.n(c),o=a(146),l=a(160),s=a(122),u=a(121),d=a(145),m=a.n(d),f=a(0),p=a.n(f);e.a=p.a.memo((function(t){var e=t.timeseries,a=t.date,c=Object(f.useRef)([]),d=Object(f.useMemo)((function(){var t=a||Object(r.i)(),c=Object.keys(e||{}).filter((function(e){return e<=t})),i=Object(s.a)(Object(u.a)(Object(r.l)(t),n.l),{representation:"date"});return c.filter((function(t){return t>=i}))}),[e,a]);return Object(f.useEffect)((function(){var t=d.length,a=10,i=5,s=100-5,u=100-20,m=o.D().clamp(!0).domain([Object(r.l)(d[0]),Object(r.l)(d[t-1])]).range([i,s]),f=o.s(d,(function(t){return Object(r.j)(e[t],"delta","active")})),p=o.r(d,(function(t){return Math.max(Object(r.j)(e[t],"delta","confirmed"),Object(r.j)(e[t],"delta","recovered"),Object(r.j)(e[t],"delta","deceased"))})),v=Math.max(-f,p),h=o.y().clamp(!0).domain([-v,v]).range([u,a]);c.current.forEach((function(a,c){var i,s=o.E(a),u=n.n[c],f=n.a[u],p=o.q().curve(o.d).x((function(t){return m(Object(r.l)(t))})).y((function(t){return h(Object(r.j)(e[t],"delta",u))}));s.selectAll("path").data(t?[d]:[]).join((function(t){return t.append("path").attr("fill","none").attr("stroke",f+"99").attr("stroke-width",2.5).attr("d",p).attr("stroke-dasharray",(function(){return i=this.getTotalLength()})).call((function(t){return t.attr("stroke-dashoffset",i).transition().delay(100).duration(2500).attr("stroke-dashoffset",0)}))}),(function(t){return t.attr("stroke-dasharray",null).transition().duration(500).attrTween("d",(function(t){var e=o.E(this).attr("d"),a=p(t);return Object(l.interpolatePath)(e,a)}))})),s.selectAll("circle").data(t?[d[t-1]]:[]).join((function(t){return t.append("circle").attr("fill",f).attr("r",2.5).attr("cx",(function(t){return m(Object(r.l)(t))})).attr("cy",(function(t){return h(Object(r.j)(e[t],"delta",u))})).style("opacity",0).call((function(t){return t.transition().delay(2100).duration(500).style("opacity",1).attr("cx",(function(t){return m(Object(r.l)(t))})).attr("cy",(function(t){return h(Object(r.j)(e[t],"delta",u))}))}))}),(function(t){return t.transition().duration(500).attr("cx",(function(t){return m(Object(r.l)(t))})).attr("cy",(function(t){return h(Object(r.j)(e[t],"delta",u))}))}))}))}),[d,e]),p.a.createElement("div",{className:"Minigraph"},n.n.map((function(t,e){return p.a.createElement("div",{key:t,className:i()("svg-parent")},p.a.createElement("svg",{ref:function(t){c.current[e]=t},width:"100",height:"75",viewBox:"0 0 100 75",preserveAspectRatio:"xMidYMid meet"}))})))}),(function(t,e){return!!m()(e.date,t.date)}))},174:function(t,e,a){"use strict";var n=a(32),r=a(0),c=a.n(r),i=a(23),o={opacity:1,transform:"translate3d(0, 0px, 0)",zIndex:999,position:"absolute",pointerEvents:"none"},l={opacity:0,transform:"translate3d(0, 2px, 0)",zIndex:999,position:"absolute",pointerEvents:"none"};e.a=function(t){var e=t.data,a=t.children,s=Object(r.useState)(!1),u=Object(n.a)(s,2),d=u[0],m=u[1],f=Object(i.f)(d,null,{from:l,enter:o,leave:l,config:{mass:1,tension:210,friction:20}});return c.a.createElement("span",{className:"Tooltip",style:{position:"relative"},onMouseEnter:function(){m(!0)},onMouseLeave:function(){m(!1)}},a,f.map((function(t){var a=t.item,n=t.key,r=t.props;return a?c.a.createElement(i.a.div,{style:r},c.a.createElement("div",{key:n,className:"message"},c.a.createElement("p",null,e))):c.a.createElement(i.a.div,{key:n})})))}},180:function(t,e,a){"use strict";var n=a(24),r=a(32),c=a(33),i=a(0),o=a.n(i),l=a(172),s=function(t){var e=t.width,a=t.statistic,n=window.innerWidth;e||(e=n>769?480:n);var r=(n>769?.9:1)*e/.885,i=42+c.f+r;return o.a.createElement(l.a,{viewBox:"0 0 ".concat(e," ").concat(i),height:i,width:e,speed:2,backgroundColor:c.a[a]},o.a.createElement("circle",{cx:.4*e,cy:i/2,r:"5"}),o.a.createElement("circle",{cx:.5*e,cy:i/2,r:"5"}),o.a.createElement("circle",{cx:.6*e,cy:i/2,r:"5"}))},u=a(34),d=a(169),m=a.n(d),f=a(170),p=a(153),v=a(48),h=a(146),b=a(143);var j=function(t){t.data;var e=t.mapScale,a=t.mapOption,n=t.statistic,r=Object(b.a)().t,l=Object(i.useRef)(null),s=Object(i.useRef)(),u=Object(p.a)(s);return Object(i.useEffect)((function(){var t=h.E(l.current),i=u||s.current.getBoundingClientRect(),o=i.width,d=i.height;if(!o||!d){var m=s.current.getBoundingClientRect();o=m.width,d=m.height}if(a===c.h.HOTSPOTS){var f=t.transition().duration(c.b);t.select(".ramp").transition(f).attr("opacity",0).attr("xlink:href",null),t.select(".bars").selectAll("rect").transition(f).attr("opacity",0).remove(),t.selectAll(".axis > *:not(.axistext)").remove(),t.select(".axistext").text("");var p=e.domain()[1];t.select(".circles").attr("transform","translate(48,40)").attr("text-anchor","middle").selectAll("circle").data([p/10,2*p/5,p]).join("circle").attr("fill","none").attr("stroke","#ccc").transition(f).attr("cy",(function(t){return-e(t)})).attr("r",e);var b=e.copy().range([0,-2*e(p)]);t.select(".circleAxis").attr("transform","translate(48,50)").transition(f).call(h.b(b).tickSize(0).tickPadding(0).tickValues([p/10,2*p/5,p]).tickFormat(h.f("0~s"))).selectAll(".tick text").style("text-anchor","middle"),t.select(".circleAxis").call((function(t){return t.select(".domain").remove()}))}else t.call((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.svg,a=t.color,n=t.title,r=t.tickSize,i=void 0===r?6:r,o=t.width,l=void 0===o?320:o,s=t.height,u=void 0===s?44+i:s,d=t.marginTop,m=void 0===d?18:d,f=t.marginRight,p=void 0===f?0:f,v=t.marginBottom,b=void 0===v?16+i:v,j=t.marginLeft,g=void 0===j?0:j,E=t.ticks,y=void 0===E?l/64:E,T=t.tickFormat,N=t.tickValues,k=t.ordinalWeights;e.selectAll(".circles > *").remove(),e.selectAll(".circleAxis > *").remove();var x,S=e.transition().duration(c.b),w=function(t){t.selectAll(".tick line").attr("y1",m+b-u)};if(a.interpolate){var M=Math.min(a.domain().length,a.range().length);x=a.copy().rangeRound(h.v(h.i(g,l-p),M)),e.select(".ramp").attr("class","ramp").attr("x",g).attr("y",m).attr("width",l-g-p).attr("height",u-m-b).attr("preserveAspectRatio","none").attr("xlink:href",O(a.copy().domain(h.v(h.i(0,1),M))).toDataURL())}else if(a.interpolator){if(e.select(".bars").selectAll("rect").transition(S).attr("opacity",0).remove(),x=Object.assign(a.copy().interpolator(h.o(g,l-p)),{range:function(){return[g,l-p]}}),e.select(".ramp").attr("class","ramp").attr("x",g).attr("y",m).attr("width",l-g-p).attr("height",u-m-b).attr("preserveAspectRatio","none").attr("xlink:href",O(a.interpolator()).toDataURL()).transition(S).attr("opacity",1),!x.ticks){if(void 0===N){var C=Math.round(y+1);N=h.w(C).map((function(t){return h.u(a.domain(),t/(C-1))}))}"function"!==typeof T&&(T=h.f(void 0===T?",f":T))}}else if(a.invertExtent){var A=a.thresholds?a.thresholds():a.quantiles?a.quantiles():a.domain(),R=void 0===T?function(t){return t}:"string"===typeof T?h.f(T):T;x=h.y().domain([-1,a.range().length-1]).rangeRound([g,l-p]),e.append("g").selectAll("rect").data(a.range()).join("rect").attr("x",(function(t,e){return x(e-1)})).attr("y",m).attr("width",(function(t,e){return x(e)-x(e-1)})).attr("height",u-m-b).attr("fill",(function(t){return t})),N=h.w(-1,A.length),T=function(t){return-1===t?R(1):t!==A.length-1?t===A.length-2?R(A[t]+"+",t):R(A[t],t):void 0}}else{if(e.select(".ramp").transition(S).attr("opacity",0).attr("xlink:href",null),k){var I=h.y().domain([0,k.reduce((function(t,e){return t+e}))]).rangeRound([0,l-g-p]),L=k.map((function(t,e){return k.slice(0,e).reduce((function(t,e){return t+I(e)}),g)}));x=h.A().domain(a.domain()).range(L),e.select(".bars").selectAll("rect").data(a.domain()).join((function(t){return t.append("rect").attr("x",x).attr("width",(function(t,e){return I(k[e])}))})).attr("y",m).attr("height",u-m-b).attr("fill",a).transition(S).attr("x",x).attr("width",(function(t,e){return I(k[e])})).attr("opacity",1)}else x=h.x().domain(a.domain()).rangeRound([g,l-p]),e.selectAll("rect").data(a.domain()).join("rect").attr("x",x).attr("y",m).attr("width",Math.max(0,x.bandwidth()-1)).attr("height",u-m-b).attr("fill",a);w=function(){}}return e.select(".axis").attr("transform","translate(0,".concat(u-b,")")).transition(S).attr("class","axis").call(h.a(x).ticks(y,"string"===typeof T?T:void 0).tickFormat("function"===typeof T?T:void 0).tickSize(i).tickValues(N)).on("start",(function(){e.call(w).call((function(t){return t.select(".domain").remove()}))})).call((function(t){return t.select(".axistext").attr("class","axistext").attr("x",g).attr("y",m+b-u-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").text(n)})),e.node()}({svg:t,color:e,title:a===c.h.PER_MILLION?"".concat(r(Object(v.b)(n))," ").concat(r("cases per million")):"".concat(r(Object(v.b)(n))," ").concat(r("cases")),width:o,height:d,ticks:5,tickFormat:function(t,e,n){if(a!==c.h.TOTAL||Number.isInteger(t))return e===n.length-1?Object(v.g)(t)+"+":Object(v.g)(t)},marginLeft:2,marginRight:20})}));t.attr("class",a===c.h.ZONES?"zone":"")}),[r,u,e,a,n]),o.a.createElement("div",{className:"svg-parent maplegend",style:{height:c.f},ref:s},o.a.createElement("svg",{id:"legend",preserveAspectRatio:"xMidYMid meet",ref:l},o.a.createElement("image",{className:"ramp"}),o.a.createElement("g",{className:"bars"}),o.a.createElement("g",{className:"circles"}),o.a.createElement("g",{className:"circleAxis"}),o.a.createElement("g",{className:"axis"},o.a.createElement("text",{className:"axistext"}))),o.a.createElement("canvas",{className:"color-scale",style:{position:"absolute",height:0}}))};function O(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,a=h.E(".color-scale").node(),n=(a.width=e,a.height=1,a).getContext("2d"),r=0;r<e;++r)n.fillStyle=t(r/(e-1)),n.fillRect(r,0,1,1);return a}var g=a(367),E=a(155),y=a(231),T={confirmed:function(t){return h.n(.85*t)},active:function(t){return h.j(.85*t)},recovered:function(t){return h.k(.85*t)},deceased:function(t){return h.l(.85*t)},tested:function(t){return h.m(.85*t)}},N=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(v.j)(t,"total",e,a)};var k=function(t){var e,a,n=t.currentMap,r=t.data,l=t.changeMap,s=t.regionHighlighted,d=t.setRegionHighlighted,p=t.statistic,O=t.isCountryLoaded,k=Object(b.a)().t,x=Object(i.useRef)(null),S=c.g[n.code],w=Object(E.a)(S.geoDataFile,function(){var t=Object(f.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.p(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{revalidateOnFocus:!1,suspense:!0}).data,M=Object(i.useMemo)((function(){var t=Object.keys(r).filter((function(t){return"TT"!==t&&Object.keys(c.g).includes(t)}));return n.view===c.k.STATES?h.r(t,(function(t){return N(r[t],p,n.option===c.h.PER_MILLION?c.t[t]:1)})):h.r(t,(function(t){var e;return(null===(e=r[t])||void 0===e?void 0:e.districts)?h.r(Object.values(r[t].districts),(function(t){return N(t,p)})):0}))}),[r,n.option,n.view,p]),C=Object(i.useMemo)((function(){return N(r[n.code],p,n.option===c.h.PER_MILLION?c.t[n.code]:1)}),[r,n.code,n.option,p]),A=Object(i.useMemo)((function(){return n.option===c.h.ZONES?h.A(Object.keys(c.y),Object.values(c.y)):n.option===c.h.HOTSPOTS?h.C([0,Math.max(M,1)],[0,40]).clamp(!0).nice(3):h.B([0,Math.max(1,M)],T[p]).clamp(!0)}),[n.option,p,M]);return Object(i.useEffect)((function(){var t=y.a(w,w.objects[S.graphObjectStates||S.graphObjectDistricts]),e=h.E(x.current),a=h.g().fitSize([432,488],t),i=h.h(a),o=n.option!==c.h.HOTSPOTS?n.view===c.k.STATES?y.a(w,w.objects[S.graphObjectStates]).features:y.a(w,w.objects[S.graphObjectDistricts]).features:[].concat(Object(u.a)(y.a(w,w.objects[S.graphObjectStates]).features),Object(u.a)(y.a(w,w.objects[S.graphObjectDistricts]).features));o=o.map((function(t){var e=t.properties.district,a=t.properties.st_nm,r=Object.assign({},t);return r.id="".concat(n.code,"-").concat(a).concat(e?"-"+e:""),r}));var s=function(t){var e,a,i=c.p[t.properties.st_nm],o=t.properties.district,l=r[i],s=null===l||void 0===l||null===(e=l.districts)||void 0===e?void 0:e[o];return 0===(a=n.option===c.h.ZONES?(null===s||void 0===s?void 0:s.zone)||0:o?N(s,p):N(l,p,n.option===c.h.PER_MILLION?c.t[i]:1))?"#ffffff00":A(a)},m=function(t){return n.option===c.h.ZONES?"#343a40":c.a[p]},f=h.F().duration(c.b),b=null;e.select(".regions").selectAll("path").data(n.option!==c.h.HOTSPOTS?o:[],(function(t){return t.id})).join((function(t){var a=t.append("path").attr("d",i).attr("stroke-width",1.8).attr("stroke-opacity",0).style("cursor","pointer").on("mouseenter",(function(t){d({stateCode:c.p[t.properties.st_nm],districtName:t.properties.district})})).on("mouseleave",(function(t){b===t&&(b=null)})).on("touchstart",(function(t){b=b===t?null:t})).on("click",(function(t){h.e.stopPropagation(),b||S.mapType===c.j.STATE||(e.attr("pointer-events","none"),e.select(".regions").selectAll("path").attr("pointer-events","none"),l(c.p[t.properties.st_nm]))})).attr("fill",s).attr("stroke",m);return a.append("title"),a}),(function(t){return t.call((function(t){return t.transition(f).attr("fill",s).attr("stroke",m)}))})).attr("pointer-events","all").select("title").text((function(t){if(n.option===c.h.TOTAL){var e,a,i=t.properties.st_nm,o=c.p[i],l=t.properties.district,s=r[o],u=null===s||void 0===s||null===(e=s.districts)||void 0===e?void 0:e[l];return a=N(l?u:s,p),Object(v.g)(a/(C||.001)*100)+"% from "+Object(v.c)(l||i)}})),e.transition().duration(S.mapType===c.j.STATE?f.duration()/2:0).on("end",(function(){return e.attr("class",n.option===c.h.ZONES?"zone":"")}));var j=[];n.option===c.h.HOTSPOTS&&(j=o.map((function(t){var e,a,n=c.p[t.properties.st_nm],i=t.properties.district,o=r[n],l=null===o||void 0===o||null===(e=o.districts)||void 0===e?void 0:e[i];return t.value=N(i?l:null===o||void 0===o||null===(a=o.districts)||void 0===a?void 0:a[c.x],p),t})).sort((function(t,e){return e.value-t.value}))),e.select(".circles").selectAll("circle").data(j,(function(t){return t.id})).join((function(t){return t.append("circle").attr("transform",(function(t){return"translate(".concat(i.centroid(t),")")})).attr("fill-opacity",.5).style("cursor","pointer").attr("pointer-events","all").on("mouseenter",(function(t){d({stateCode:c.p[t.properties.st_nm],districtName:t.properties.district||c.x})})).on("click",(function(){h.e.stopPropagation()}))})).transition(f).attr("fill",c.a[p]+"70").attr("stroke",c.a[p]+"70").attr("r",(function(t){return A(t.value)}));var O=[];S.mapType===c.j.COUNTRY&&((O=[y.b(w,w.objects[S.graphObjectStates])])[0].id=S.graphObjectStates);var g=[];n.view===c.k.DISTRICTS&&((g=[y.b(w,w.objects[S.graphObjectDistricts])])[0].id=S.graphObjectDistricts),e.select(n.view===c.k.STATES?".state-borders":".district-borders").attr("fill","none").attr("stroke-width",(function(){return S.mapType===c.j.COUNTRY&&n.view===c.k.DISTRICTS?0:1.5})).selectAll("path").data(n.view===c.k.STATES?O:g,(function(t){return t.id})).join((function(t){return t.append("path").attr("d",i)})).transition(f).attr("stroke",(function(){return n.option===c.h.ZONES?"#00000060":c.a[p]+"30"})),e.select(n.view===c.k.STATES?".district-borders":".state-borders").selectAll("path").data(n.view===c.k.STATES?g:O,(function(t){return t.id})).join((function(t){return t.append("path").attr("d",i).attr("fill","none").attr("stroke-width",1.5)})).transition(f).attr("stroke","#343a4050"),e.attr("pointer-events","auto").on("click",(function(){S.mapType!==c.j.STATE&&d({stateCode:"TT",districtName:null})}))}),[w,r,S,n,d,l,O,A,p,C]),Object(i.useEffect)((function(){var t=c.r[s.stateCode],e=s.districtName,a=h.E(x.current);n.option===c.h.HOTSPOTS?a.select(".circles").selectAll("circle").attr("fill-opacity",(function(a){var n;return t===a.properties.st_nm&&(!e||e===(null===(n=a.properties)||void 0===n?void 0:n.district)||e===c.x&&!a.properties.district)?1:.5})):a.select(".regions").selectAll("path").each((function(a){var r,i=t===a.properties.st_nm&&(n.view===c.k.STATES||e===(null===(r=a.properties)||void 0===r?void 0:r.district));i&&this.parentNode.appendChild(this),h.E(this).attr("stroke-opacity",i?1:0)}))}),[w,r,n.option,n.view,s.stateCode,s.districtName,p]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"svg-parent"},o.a.createElement("svg",{id:"chart",viewBox:"0 0 ".concat(432," ").concat(488),preserveAspectRatio:"xMidYMid meet",ref:x},o.a.createElement("g",{className:"regions"}),o.a.createElement("g",{className:"state-borders"}),n.view===c.k.DISTRICTS&&o.a.createElement("g",{className:"district-borders"}),n.option===c.h.HOTSPOTS&&o.a.createElement("g",{className:"circles"})),S.mapType===c.j.STATE&&!!N(null===(e=r[n.code])||void 0===e||null===(a=e.districts)||void 0===a?void 0:a[c.x],p)&&o.a.createElement("div",{className:"disclaimer"},o.a.createElement(g.a,null),k("District-wise {{statistic}} numbers need reconciliation",{statistic:k(p)}))),A&&o.a.createElement(j,{data:r,mapScale:A,mapOption:n.option,statistic:p}),o.a.createElement("svg",{style:{position:"absolute",height:0}},o.a.createElement("defs",null,o.a.createElement("filter",{id:"balance-color",colorInterpolationFilters:"sRGB"},o.a.createElement("feColorMatrix",{type:"matrix",values:"0.91372549  0           0            0  0.08627451 0           0.91372549  0            0  0.08627451 0           0           0.854901961  0  0.145098039 0           0           0            1  0"})))))},x=a(147),S=a(54),w=a.n(S),M=a(145),C=a.n(M),A=a(148),R=a(57),I=a.n(R),L=a(368),_=a(369),P=a(10),D=a(23);e.a=o.a.memo((function(t){var e,a,l=t.stateCode,u=t.data,d=t.regionHighlighted,m=t.setRegionHighlighted,f=t.anchor,p=t.setAnchor,h=t.mapStatistic,j=t.setMapStatistic,O=t.isCountryLoaded,g=void 0===O||O,E=Object(b.a)().t,y=Object(P.g)(),T=Object(i.useRef)(),N=Object(i.useState)({code:l,view:c.g[l].mapType===c.j.COUNTRY?c.k.STATES:c.k.DISTRICTS,option:c.h.TOTAL}),S=Object(r.a)(N,2),M=S[0],C=S[1],R=c.g[M.code],U=R.mapType===c.j.COUNTRY?u:Object(n.a)({},M.code,u[M.code]);Object(i.useEffect)((function(){if(d.districtName){if(M.code!==d.stateCode&&(R.mapType!==c.j.COUNTRY||M.view!==c.k.DISTRICTS)){if(!c.g[d.stateCode])return;C({code:d.stateCode,view:c.k.DISTRICTS,option:M.option===c.h.PER_MILLION?c.h.TOTAL:M.option})}}else g&&R.mapType===c.j.STATE&&C({code:"TT",view:M.option===c.h.ZONES?c.k.DISTRICTS:c.k.STATES,option:M.option})}),[g,d.stateCode,d.districtName,M.code,M.option,M.view,R.mapType]);var H=Object(i.useCallback)((function(t){var e=c.g[t];if(e)if(e.mapType===c.j.STATE){var a=u[t].districts,n=Object.keys(a).sort((function(t,e){return Object(v.j)(a[e],"total",h)-Object(v.j)(a[t],"total",h)}))[0];I.a.unstable_batchedUpdates((function(){m({stateCode:t,districtName:n}),C({code:t,view:c.k.DISTRICTS,option:M.option===c.h.PER_MILLION?c.h.TOTAL:M.option})}))}else I.a.unstable_batchedUpdates((function(){C({code:"TT",view:M.option===c.h.ZONES?c.k.DISTRICTS:c.k.STATES,option:M.option}),m({stateCode:"TT",districtName:null})}))}),[u,M.option,h,m]),F=Object(i.useMemo)((function(){var t=M.view===c.k.STATES?d.stateCode:M.code,e=u[t]||{};return Object(A.a)(e,(function(e){e.state=c.r[t]}))}),[u,d.stateCode,M.view,M.code]),z=Object(i.useMemo)((function(){var t,e,a=(d.districtName?null===(t=u[d.stateCode])||void 0===t||null===(e=t.districts)||void 0===e?void 0:e[d.districtName]:u[d.stateCode])||{};return Object(A.a)(a,(function(t){t.name=d.districtName||c.r[d.stateCode],d.districtName||(t.population_millions=c.t[d.stateCode])}))}),[u,d.stateCode,d.districtName]),B=Object(D.d)(c.i.length,c.i.map((function(t){return{total:Object(v.j)(F,"total",t),delta:Object(v.j)(F,"delta",t),from:{total:Object(v.j)(F,"total",t),delta:Object(v.j)(F,"delta",t)},config:{tension:500,clamp:!0}}})));return o.a.createElement("div",{className:w()("MapExplorer",{stickied:"mapexplorer"===f},{hidden:f&&"mapexplorer"!==f})},window.innerWidth>769&&o.a.createElement("div",{className:w()("anchor",{stickied:"mapexplorer"===f}),onClick:function(){p("mapexplorer"===f?null:"mapexplorer")}},o.a.createElement(x.c,null)),o.a.createElement("div",{className:"header"},o.a.createElement("h1",null,"TT"===M.code?E("India"):E(c.r[M.code])," ",E("Map")),o.a.createElement("h6",null,E("{{action}} over a {{mapType}} for more details",{action:E(window.innerWidth<=769?"Tap":"Hover"),mapType:E(R.mapType===c.j.COUNTRY?"state/UT":"District")}))),o.a.createElement("div",{className:"map-stats"},c.i.map((function(t,e){var a,n;return o.a.createElement("div",{key:t,className:w()("stats",t,{focused:t===h}),onClick:function(){return j(t)}},o.a.createElement("h5",null,E(Object(v.b)(t))),o.a.createElement("div",{className:"stats-bottom"},o.a.createElement(D.a.h1,null,B[e].total.interpolate((function(t){return Object(v.g)(Math.floor(t))}))),"tested"!==t&&"active"!==t&&o.a.createElement(D.a.h6,null,B[e].delta.interpolate((function(t){return t>0?"+".concat(Object(v.g)(Math.floor(t))):"\xa0"}))),"tested"===t&&o.a.createElement("h6",null,(null===F||void 0===F||null===(a=F.total)||void 0===a?void 0:a.tested)&&E("As of {{date}}",{date:Object(v.e)(F.meta.tested.last_updated,"dd MMM")}))),"tested"===t&&(null===F||void 0===F||null===(n=F.total)||void 0===n?void 0:n.tested)&&o.a.createElement("a",{href:F.meta.tested.source,target:"_noblank"},o.a.createElement(L.a,null)))}))),o.a.createElement("div",{className:"meta"},R.mapType===c.j.STATE&&o.a.createElement("div",{className:"map-button",onClick:function(){return y.push("state/".concat(M.code))}},E("Visit state page"),o.a.createElement(_.a,null)),R.mapType!==c.j.STATE&&(null===F||void 0===F||null===(e=F.meta)||void 0===e?void 0:e.last_updated)&&o.a.createElement("div",{className:"last-update"},o.a.createElement("h6",null,E("Last updated")),o.a.createElement("h3",null,"".concat(Object(v.f)(F.meta.last_updated)," ").concat(E("ago")))),o.a.createElement("h2",{className:w()(h,Object(n.a)({},null===z||void 0===z?void 0:z.zone,M.option===c.h.ZONES))},E(z.name),z.name===c.x&&" (".concat(E(c.r[d.stateCode]),")")),R.mapType===c.j.STATE&&o.a.createElement("div",{className:"map-button",onClick:function(){return H("TT")}},E("Back")),M.option!==c.h.ZONES&&(M.view===c.k.DISTRICTS&&d.districtName||M.view===c.k.STATES&&M.option!==c.h.TOTAL)&&o.a.createElement("h1",{className:w()("district",h)},Object(v.g)(Object(v.j)(z,"total",h,M.option===c.h.PER_MILLION?z.population_millions:1)),o.a.createElement("br",null),o.a.createElement("span",null,E(h),M.option===c.h.PER_MILLION&&" ".concat(E("per million"))))),o.a.createElement("div",{ref:T},h&&o.a.createElement(i.Suspense,{fallback:o.a.createElement(s,Object.assign({className:"map-loader"},{width:null===(a=T.current)||void 0===a?void 0:a.clientWidth,statistic:h}))},o.a.createElement(k,{currentMap:M,data:U,changeMap:H,regionHighlighted:d,setRegionHighlighted:m,statistic:h,isCountryLoaded:g}))),o.a.createElement("div",{className:"tabs-map"},Object.values(c.h).map((function(t){return o.a.createElement("div",{key:t,className:w()("tab",{focused:M.option===t}),onClick:function(){return function(t){switch(t){case c.h.TOTAL:return C({code:M.code,view:R.mapType===c.j.COUNTRY?c.k.STATES:c.k.DISTRICTS,option:c.h.TOTAL}),void(R.mapType===c.j.COUNTRY&&m({stateCode:d.stateCode,districtName:null}));case c.h.PER_MILLION:if(R.mapType===c.j.STATE)return;return C({code:M.code,view:c.k.STATES,option:c.h.PER_MILLION}),void m({stateCode:d.stateCode,districtName:null});case c.h.HOTSPOTS:if(R.mapType===c.j.STATE)return;return void C({code:M.code,view:c.k.DISTRICTS,option:c.h.HOTSPOTS});case c.h.ZONES:return C({code:M.code,view:c.k.DISTRICTS,option:c.h.ZONES}),void(R.mapType===c.j.COUNTRY&&m({stateCode:"TT",districtName:null}));default:return}}(t)}},o.a.createElement("h4",null,E(t),t===c.h.PER_MILLION&&o.a.createElement("sup",null,"\u2020")))}))),o.a.createElement("h6",{className:w()("footnote","table-fineprint")},"\u2020 ","".concat(E("Based on 2019 population projection by NCP")," ("),o.a.createElement("a",{href:"https://nhm.gov.in/New_Updates_2018/Report_Population_Projection_2019.pdf",target:"_noblank",style:{color:"#6c757d"}},E("source")),")"))}),(function(t,e){var a,n,r,c,i,o,l,s,u,d;return!!C()(t.regionHighlighted,e.regionHighlighted)&&(!!C()(t.mapStatistic,e.mapStatistic)&&(!!C()(t.anchor,e.anchor)&&(!!C()(null===(a=t.data)||void 0===a||null===(n=a.TT)||void 0===n||null===(r=n.meta)||void 0===r?void 0:r.last_updated,null===(c=e.data)||void 0===c||null===(i=c.TT)||void 0===i||null===(o=i.meta)||void 0===o?void 0:o.last_updated)&&!!C()(null===(l=t.data)||void 0===l||null===(s=l.TT)||void 0===s?void 0:s.total,null===(u=e.data)||void 0===u||null===(d=u.TT)||void 0===d?void 0:d.total))))}))},181:function(t,e,a){"use strict";var n=a(32),r=a(33),c=a(153),i=a(48),o=a(54),l=a.n(o),s=a(146),u=a(160),d=a(122),m=a(121),f=a(145),p=a.n(f),v=a(0),h=a.n(v),b=a(143);var j=h.a.memo((function(t){var e=t.timeseries,a=t.dates,o=t.chartType,f=t.isUniform,p=t.isLog,j=Object(b.a)().t,O=Object(v.useRef)([]),g=Object(v.useRef)(),E=Object(c.a)(g),y=Object(v.useState)(),T=Object(n.a)(y,2),N=T[0],k=T[1];Object(v.useEffect)((function(){k(a[a.length-1])}),[a]),Object(v.useEffect)((function(){var t=a.length,n=E||g.current.getBoundingClientRect(),c=n.width,l=n.height,d=15,m=25,v=c-35,h=l-25,b=s.D().clamp(!0).domain([Object(i.l)(a[0]),Object(i.l)(a[t-1])]).range([m,v]),j=c<480?4:7,y=function(t){return t.attr("class","x-axis").call(s.a(b).ticks(j).tickFormat((function(t){return Object(i.e)(t,"dd MMM")})))},T=function(t,e){t.attr("class","x-axis2").call(s.a(b).tickValues([]).tickSize(0)).select(".domain").style("transform","translateY(".concat(e(0),"px)")),e(0)!==h?t.select(".domain").attr("opacity",.4):t.select(".domain").attr("opacity",0)},N=function(t,e){return t.attr("class","y-axis").call(s.b(e).ticks(4,"0~s").tickPadding(4))},x=s.s(a,(function(t){return Object(i.j)(e[t],o,"active")})),S=s.r(a,(function(t){return Math.max(Object(i.j)(e[t],o,"confirmed"),Object(i.j)(e[t],o,"recovered"),Object(i.j)(e[t],o,"deceased"))})),w=s.y().clamp(!0).domain([x,Math.max(1,1.2*S)]).nice(4).range([h,d]),M=s.z().clamp(!0).domain([Math.max(1,x),Math.max(10,1.2*S)]).nice(4).range([h,d]);function C(){var t=s.t(this)[0],e=b.invert(t),n=(0,s.c((function(t){return Object(i.l)(t)})).left)(a,e,1);k(a[n])}function A(){k(a[t-1])}O.current.forEach((function(n,c){var l=s.E(n),m=l.transition().duration(r.b),j=r.w[c],O=function(t){return f&&"total"===o&&p&&"tested"!==t?M:f&&"tested"!==t?w:"total"===o&&p?s.z().clamp(!0).domain([Math.max(1,s.s(a,(function(a){return Object(i.j)(e[a],o,t)}))),Math.max(10,1.2*s.r(a,(function(a){return Object(i.j)(e[a],o,t)})))]).nice(4).range([h,d]):s.y().clamp(!0).domain([1.1*Math.min(0,s.s(a,(function(a){return Object(i.j)(e[a],o,t)}))),Math.max(1,1.2*s.r(a,(function(a){return Object(i.j)(e[a],o,t)})))]).nice(4).range([h,d])}(j),g=r.a[j];if(l.select(".x-axis").style("transform","translateY(".concat(h,"px)")).transition(m).call(y),l.select(".x-axis2").transition(m).call(T,O),l.select(".y-axis").style("transform","translateX(".concat(v,"px)")).transition(m).call(N,O),l.selectAll("circle").data(a,(function(t){return t})).join((function(t){return t.append("circle").attr("fill",g).attr("stroke",g).attr("r",2).attr("cy",h).attr("cx",(function(t){return b(Object(i.l)(t))}))})).transition(m).attr("cx",(function(t){return b(Object(i.l)(t))})).attr("cy",(function(t){return O(Object(i.j)(e[t],o,j))})),"total"===o){l.selectAll(".stem").transition(m).attr("y1",O(0)).attr("y2",O(0)).remove();var E,k=s.q().curve(s.d).x((function(t){return b(Object(i.l)(t))})).y((function(t){return O(Object(i.j)(e[t],o,j))}));l.selectAll(".trend").data(t?[a]:[]).join((function(t){return t.append("path").attr("class","trend").attr("fill","none").attr("stroke",g+"50").attr("stroke-width",4).attr("d",k).attr("stroke-dasharray",(function(){return E=this.getTotalLength()})).call((function(t){return t.attr("stroke-dashoffset",E).transition(m).attr("stroke-dashoffset",0)}))}),(function(t){return t.attr("stroke-dasharray",null).transition(m).attrTween("d",(function(t){var e=s.E(this).attr("d"),a=k(t);return Object(u.interpolatePath)(e,a)}))}))}else l.selectAll(".trend").remove(),l.selectAll(".stem").data(a,(function(t){return t})).join((function(t){return t.append("line").attr("class","stem").style("stroke",g+"99").style("stroke-width",4).attr("x1",(function(t){return b(Object(i.l)(t))})).attr("y1",h).attr("x2",(function(t){return b(Object(i.l)(t))})).attr("y2",h)})).transition(m).attr("x1",(function(t){return b(Object(i.l)(t))})).attr("y1",O(0)).attr("x2",(function(t){return b(Object(i.l)(t))})).attr("y2",(function(t){return O(Object(i.j)(e[t],o,j))}));l.selectAll("*").attr("pointer-events","none"),l.on("mousemove",C).on("touchmove",C).on("mouseout",A).on("touchend",A)}))}),[o,E,f,p,e,a]),Object(v.useEffect)((function(){O.current.forEach((function(t){s.E(t).selectAll("circle").attr("r",(function(t){return t===N?4:2}))}))}),[N]);var x=Object(v.useCallback)((function(t){if(N){var a=Object(i.j)(null===e||void 0===e?void 0:e[N],"delta",t);if("total"===o)return a;var n=Object(d.a)(Object(m.a)(Object(i.l)(N),1),{representation:"date"});return a-Object(i.j)(null===e||void 0===e?void 0:e[n],"delta",t)}}),[e,N,o]);return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"TimeSeries"},r.w.map((function(t,a){var n=x(t);return h.a.createElement("div",{key:t,className:l()("svg-parent","is-".concat(t)),ref:g},N&&h.a.createElement("div",{className:l()("stats","is-".concat(t))},h.a.createElement("h5",{className:"title"},j(Object(i.b)(t))),h.a.createElement("h5",{className:"title"},Object(i.e)(N,"dd MMMM")),h.a.createElement("div",{className:"stats-bottom"},h.a.createElement("h2",null,Object(i.g)(Object(i.j)(null===e||void 0===e?void 0:e[N],o,t))),h.a.createElement("h6",null,"".concat(n>=0?"+":"").concat(Object(i.g)(n))))),h.a.createElement("svg",{ref:function(t){O.current[a]=t},preserveAspectRatio:"xMidYMid meet"},h.a.createElement("g",{className:"x-axis"}),h.a.createElement("g",{className:"x-axis2"}),h.a.createElement("g",{className:"y-axis"})))}))))}),(function(t,e){return!!p()(e.chartType,t.chartType)&&(!!p()(e.isUniform,t.isUniform)&&(!!p()(e.isLog,t.isLog)&&(!!p()(e.stateCode,t.stateCode)&&!!p()(e.dates,t.dates))))})),O=(a(175),a(147)),g=a(385),E=a(176),y=a(317);e.a=h.a.memo((function(t){var e=t.timeseries,a=t.date,c=t.regionHighlighted,o=t.setRegionHighlighted,s=t.anchor,u=t.setAnchor,m=t.stateCodes,f=Object(b.a)().t,p=Object(v.useState)(r.v.MONTH),T=Object(n.a)(p,2),N=T[0],k=T[1],x=Object(y.a)("chartType","total"),S=Object(n.a)(x,2),w=S[0],M=S[1],C=Object(y.a)("isUniform",!0),A=Object(n.a)(C,2),R=A[0],I=A[1],L=Object(y.a)("isLog",!1),_=Object(n.a)(L,2),P=_[0],D=_[1],U=Object(v.useRef)(),H=Object(E.useIsVisible)(U,{once:!0}),F=Object(v.useMemo)((function(){var t=a||Object(i.i)(),n=Object.keys(e||{}).filter((function(e){return e<=t}));if(N===r.v.TWO_WEEKS){var c=Object(d.a)(Object(g.a)(Object(i.l)(t),{weeks:2}),{representation:"date"});return n.filter((function(t){return t>=c}))}if(N===r.v.MONTH){var o=Object(d.a)(Object(g.a)(Object(i.l)(t),{months:1}),{representation:"date"});return n.filter((function(t){return t>=o}))}return n}),[e,a,N]);return h.a.createElement("div",{className:l()("TimeSeriesExplorer",{stickied:"timeseries"===s}),style:{display:"mapexplorer"===s?"none":""},ref:U},h.a.createElement("div",{className:"timeseries-header"},h.a.createElement("div",{className:l()("anchor",{stickied:"timeseries"===s}),onClick:function(){u("timeseries"===s?null:"timeseries")}},h.a.createElement(O.c,null)),h.a.createElement("h1",null,f("Spread Trends")),h.a.createElement("div",{className:"tabs"},Object.entries(r.u).map((function(t){var e=Object(n.a)(t,2),a=e[0],r=e[1];return h.a.createElement("div",{className:"tab ".concat(w===a?"focused":""),key:a,onClick:function(){M(a)}},h.a.createElement("h4",null,f(r)))}))),h.a.createElement("div",{className:"scale-modes"},h.a.createElement("label",{className:"main"},f("Scale Modes")),h.a.createElement("div",{className:"timeseries-mode"},h.a.createElement("label",{htmlFor:"timeseries-mode"},f("Uniform")),h.a.createElement("input",{id:"timeseries-mode",type:"checkbox",className:"switch",checked:R,"aria-label":f("Checked by default to scale uniformly."),onChange:function(){I(!R)}})),h.a.createElement("div",{className:"timeseries-logmode ".concat("total"!==w?"disabled":"")},h.a.createElement("label",{htmlFor:"timeseries-logmode"},f("Logarithmic")),h.a.createElement("input",{id:"timeseries-logmode",type:"checkbox",checked:"total"===w&&P,className:"switch",disabled:"total"!==w,onChange:function(){D(!P)}}))),m&&h.a.createElement("div",{className:"trends-state-name"},h.a.createElement("select",{value:c.stateCode,onChange:function(t){var e=t.target;o({stateCode:e.value,districtName:null})}},m.map((function(t){return h.a.createElement("option",{value:t,key:t},f("TT"===t?"All States":r.r[t]))}))))),H&&h.a.createElement(j,Object.assign({stateCode:c.stateCode},{timeseries:e,dates:F,chartType:w,isUniform:R,isLog:P})),h.a.createElement("div",{className:"pills"},Object.values(r.v).map((function(t){return h.a.createElement("button",{key:t,type:"button",className:l()({selected:N===t}),onClick:function(){return k(t)}},f(t))}))),h.a.createElement("div",{className:"alert"},h.a.createElement(O.b,{size:24}),h.a.createElement("div",{className:"alert-right"},f("Tested chart is independent of uniform scaling"))))}),(function(t,e){return!!p()(e.regionHighlighted.stateCode,t.regionHighlighted.stateCode)&&(!!p()(e.date,t.date)&&!!p()(e.anchor,t.anchor))}))},354:function(t,e,a){"use strict";var n=a(0),r=a.n(n),c=a(1),i=a.n(c);function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function l(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},c=Object.keys(t);for(n=0;n<c.length;n++)a=c[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)a=c[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=Object(n.forwardRef)((function(t,e){var a=t.color,n=void 0===a?"currentColor":a,c=t.size,i=void 0===c?24:c,s=l(t,["color","size"]);return r.a.createElement("svg",o({ref:e,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"}))}));s.propTypes={color:i.a.string,size:i.a.oneOfType([i.a.string,i.a.number])},s.displayName="Compass",e.a=s},381:function(t,e,a){"use strict";a.r(e);var n=a(32),r=a(33),c=a(48),i=a(146),o=a(145),l=a.n(o),s=a(0),u=a.n(s),d=function(t,e){return Object(c.j)(t,"delta",e)},m=50,f=0,p=50,v=0;var h=u.a.memo((function(t){var e=t.timeseries,a=t.statistic,n=Object(s.useRef)(),o=Object.keys(e||{}).filter((function(t){return t<=Object(c.i)()})).slice(-r.m);return Object(s.useEffect)((function(){var t=i.E(n.current),l=250-f,s=250-p,u=i.x().domain(o).range([v,l]).paddingInner(.33),h=i.y().domain([Math.min(0,i.s(o,(function(t){return d(e[t],a)}))),Math.max(1,i.r(o,(function(t){return d(e[t],a)})))]).range([s,m]),j=i.a(u).tickSize(0).tickFormat((function(t){return Object(c.e)(t,"dd MMM")})),O=t.transition().duration(r.b);t.select(".x-axis").transition(O).style("transform","translateY(".concat(h(0),"px)")).call(j).on("start",(function(){return t.select(".domain").remove()})).selectAll("text").attr("y",0).attr("dy",(function(t,n){return d(e[t],a)<0?"-1em":"1.5em"})).style("text-anchor","middle").attr("fill",r.a[a]),t.selectAll(".bar").data(o).join((function(t){return t.append("path").attr("class","bar").attr("d",(function(t){return b(u(t),h(0),u.bandwidth(),0,5)}))})).transition(O).attr("d",(function(t){return b(u(t),h(0),u.bandwidth(),h(0)-h(d(e[t],a)),5)})).attr("fill",(function(t,e){return e<t.length-1?r.a[a]+"90":r.a[a]}));var g=t.selectAll(".label").data(o).join("text").attr("class","label").attr("x",(function(t){return u(t)+u.bandwidth()/2})).text((function(t){return Object(c.g)(d(e[t],a))}));g.transition(O).attr("fill",r.a[a]).attr("y",(function(t){var n=d(e[t],a);return h(n)+(n<0?15:-6)})),g.append("tspan").attr("dy",(function(t){return"".concat(d(e[t],a)<0?1.2:-1.2,"em")})).attr("x",(function(t){return u(t)+u.bandwidth()/2})).text((function(t,n){if(0===n)return"";var r=d(e[o[n-1]],a);if(!r)return"";var i=d(e[t],a)-r;return"".concat(i>0?"+":"").concat(Object(c.g)(100*i/Math.abs(r)),"%")})).transition(O).attr("fill",r.a[a]+"90")}),[o,e,a]),u.a.createElement("div",{className:"DeltaBarGraph"},u.a.createElement("svg",{ref:n,width:"250",height:"250",viewBox:"0 0 250 250",preserveAspectRatio:"xMidYMid meet"},u.a.createElement("g",{className:"x-axis",transform:"translate(0, ".concat(250-p,")")}),u.a.createElement("g",{className:"y-axis"})))}),(function(t,e){return!!l()(t.statistic,e.statistic)}));function b(t,e,a,n,r){return r=Math.sign(n)*Math.min(Math.abs(n),r),["M ".concat(t," ").concat(e),"v ".concat(-n+r),"q 0 ".concat(-r," ").concat(Math.abs(r)," ").concat(-r),"h ".concat(a-2*Math.abs(r)),"q ".concat(Math.abs(r)," 0 ").concat(Math.abs(r)," ").concat(r),"v ".concat(n-r),"Z"].join(" ")}var j=a(152),O=a(171),g=a(180),E=a(173),y=a(10),T=a(23),N=a(133),k=function(t){var e=t.stateCode,a=Object(s.useState)(!1),c=Object(n.a)(a,2),i=c[0],o=c[1],l=Object(s.useRef)(),d=Object(y.g)();Object(N.a)(l,(function(){o(!1)}));var m=Object(T.f)(i,null,{from:{opacity:0,transform:"translate3d(0, 2px, 0)",zIndex:999},enter:{opacity:1,transform:"translate3d(0, 0px, 0)",zIndex:999},leave:{opacity:0,transform:"translate3d(0, 2px, 0)",zIndex:999},config:{mass:1,tension:210,friction:20}});return u.a.createElement("div",{className:"StateDropdown"},u.a.createElement("h1",{className:"state-name",onClick:function(){o((function(t){return!t}))}},r.r[e]),m.map((function(t){var e=t.item,a=(t.key,t.props);return e?u.a.createElement(T.a.div,{className:"dropdown",style:a,ref:l},Object.keys(r.r).filter((function(t){return"UN"!==t&&"TT"!==t})).map((function(t){return u.a.createElement("h1",{key:t,className:"item",onClick:function(){o(!1),d.push("/state/".concat(t))}},r.r[t])}))):u.a.createElement(T.a.div,{style:a})})),i&&u.a.createElement("div",{className:"backdrop"}))},x=a(174),S=a(373);var w=function(t){var e=t.title,a=t.statistic,n=t.total,r=t.formula,c=t.date,i=t.description,o=t.className;return u.a.createElement("div",{className:"meta-item ".concat(o)},u.a.createElement("div",{className:"meta-item-top"},u.a.createElement("h3",null,e),u.a.createElement(x.a,{data:r},u.a.createElement(S.a,null))),u.a.createElement("h1",null,a),u.a.createElement("h5",null,c),n&&u.a.createElement("h5",null,"India has ".concat(n," CPM")),u.a.createElement("p",null,i))},M=a(129),C=a(385),A=a(354);var R=function(t){var e,a,n,i,o=t.stateCode,l=t.data,s=t.timeseries,d=Object(c.j)(l[o],"total","confirmed"),m=Object(c.j)(l[o],"total","active"),f=Object(c.j)(l[o],"total","deceased"),p=Object(c.j)(l[o],"total","recovered"),v=Object(c.j)(l[o],"total","tested"),h=Object(c.j)(l.TT,"total","confirmed"),b=Object(M.a)(Object(c.h)(),"yyyy-MM-dd"),j=Object(M.a)(Object(C.a)(Object(c.h)(),{weeks:1}),"yyyy-MM-dd"),O=Object(c.j)(null===(e=s[o])||void 0===e?void 0:e[j],"total","confirmed"),g=d/r.t[o],E=v/r.t[o],y=h/r.t.TT,T=p/d*100,N=m/d*100,k=f/d*100,x=(d-O)/O*100;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"StateMeta population"},u.a.createElement("div",{className:"meta-item population fadeInUp"},u.a.createElement("h3",null,"Population"),u.a.createElement("h1",null,Object(c.g)(r.s[o]))),u.a.createElement("div",{className:"alert"},u.a.createElement(A.a,null),u.a.createElement("div",{className:"alert-right"},"Based on 2019 population projection by NCP"," ",u.a.createElement("a",{href:"https://nhm.gov.in/New_Updates_2018/Report_Population_Projection_2019.pdf",target:"_noblank"},"report")))),u.a.createElement("div",{className:"StateMeta"},u.a.createElement(w,{className:"confirmed",title:"Confirmed Per Million",statistic:Object(c.g)(g),total:Object(c.g)(y),formula:"(confirmed / state population) * 1 Million",description:"\n            ".concat(Object(c.g)(Math.round(g))," out of every 1 million people in ").concat(r.r[o]," have tested positive for the virus.\n            ")}),u.a.createElement(w,{className:"active",title:"Active",statistic:"".concat(Object(c.g)(N),"%"),formula:"(active / confirmed) * 100",description:N>0?"For every 100 confirmed cases, ".concat(Object(c.g)(Math.round(N))," are currently infected."):"Currently, there are no active cases in this state."}),u.a.createElement(w,{className:"recovery",title:"Recovery Rate",statistic:"".concat(Object(c.g)(T),"%"),formula:"(recovered / confirmed) * 100",description:T>0?"For every 100 confirmed cases, ".concat(Object(c.g)(Math.round(T))," have recovered from the virus."):"Unfortunately, there are no recoveries in this state yet."}),u.a.createElement(w,{className:"mortality",title:"Mortality Rate",statistic:"".concat(Object(c.g)(k),"%"),formula:"(deceased / confirmed) * 100",description:k>0?"For every 100 confirmed cases, ".concat(Object(c.g)(Math.round(k))," have unfortunately passed away from the virus."):"Fortunately, no one has passed away from the virus in this state."}),u.a.createElement(w,{className:"gr",title:"Avg. Growth Rate",statistic:x>0?"".concat(Object(c.g)(Math.round(x/7)),"%"):"-",formula:"(((previousDayData - sevenDayBeforeData) / sevenDayBeforeData) * 100)/7",date:"".concat(Object(c.e)(j,"dd MMM")," - ").concat(Object(c.e)(b,"dd MMM")),description:x>0?"In the last one week, the number of new infections has\n              grown by an average of ".concat(Object(c.g)(Math.round(x/7)),"%\n              every day."):"There has been no growth in the number of infections in last one week."}),u.a.createElement(w,{className:"tpm",title:"Tests Per Million",statistic:"\u2248 ".concat(Object(c.g)(Math.round(E))),formula:"(total tests in state / total population of state) * 1 Million",date:v?"As of ".concat(Object(c.f)(null===(a=l[o])||void 0===a||null===(n=a.meta)||void 0===n||null===(i=n.tested)||void 0===i?void 0:i.last_updated)," ago"):"",description:E>0?"For every 1 million people in ".concat(r.r[o],",\n                ").concat(Object(c.g)(Math.round(E))," people were tested."):"No tests have been conducted in this state yet."})))},I=a(181),L=a(62),_=a(1),P=a.n(_);function D(){return(D=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function U(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},c=Object.keys(t);for(n=0;n<c.length;n++)a=c[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)a=c[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var H=Object(s.forwardRef)((function(t,e){var a=t.color,n=void 0===a?"currentColor":a,r=t.size,c=void 0===r?24:r,i=U(t,["color","size"]);return u.a.createElement("svg",D({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),u.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),u.a.createElement("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),u.a.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),u.a.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))}));H.propTypes={color:P.a.string,size:P.a.oneOfType([P.a.string,P.a.number])},H.displayName="Smile";var F=H,z=a(55),B=a(143),Y=a(387),Z=a(75),W=a(155);e.default=u.a.memo((function(t){var e,a,i,o,l=Object(B.a)().t,d=Object(y.i)().stateCode.toUpperCase(),m=Object(s.useState)("confirmed"),f=Object(n.a)(m,2),p=f[0],v=f[1],b=Object(Y.a)(),T=Object(n.a)(b,2),N=T[0],x=T[1].width,S=Object(s.useState)(!1),w=Object(n.a)(S,2),M=w[0],C=w[1],A=Object(s.useState)({stateCode:d,districtName:null}),_=Object(n.a)(A,2),P=_[0],D=_[1];Object(Z.a)((function(){Object(L.a)({targets:".highlight",duration:200,delay:500,translateX:"confirmed"===p?"".concat(0*x,"px"):"active"===p?"".concat(.25*x,"px"):"recovered"===p?"".concat(.5*x,"px"):"deceased"===p?"".concat(.75*x,"px"):"0px",easing:"spring(1, 80, 90, 10)",opacity:1})}));var U=Object(W.a)("https://api.covid19india.org/v3/min/timeseries.min.json",c.d,{suspense:!0,revalidateOnFocus:!1}).data,H=Object(W.a)("https://api.covid19india.org/v3/min/data.min.json",c.d,{suspense:!0,revalidateOnMount:!0,refreshInterval:1e5,revalidateOnFocus:!1}).data,V=Object(s.useMemo)((function(){var t,e=window.innerWidth>=540?3:2,a=(null===(t=H[d])||void 0===t?void 0:t.districts)?Object.keys(H[d].districts).length:0;return Math.ceil(a/e)}),[H,d]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(z.a,null,u.a.createElement("title",null,"Coronavirus Outbreak in ",r.r[d]," - covid19india.org"),u.a.createElement("meta",{name:"title",content:"Coronavirus Outbreak in ".concat(r.r[d],": Latest Map and Case Count")})),u.a.createElement("div",{className:"State"},u.a.createElement("div",{className:"state-left"},u.a.createElement("div",{className:"header"},u.a.createElement("div",{className:"header-left"},u.a.createElement(k,{stateCode:d}),u.a.createElement("h5",null,"Last Updated on ".concat(Object(c.e)(H[d].meta.last_updated,"dd MMM, p")," IST"))),u.a.createElement("div",{className:"header-right"},u.a.createElement("h5",null,l("Tested")),(null===(e=H[d])||void 0===e||null===(a=e.total)||void 0===a?void 0:a.tested)&&u.a.createElement(u.a.Fragment,null,u.a.createElement("h2",null,Object(c.g)(H[d].total.tested)),u.a.createElement("h5",{className:"timestamp"},"As of ".concat(Object(c.e)(H[d].meta.tested.last_updated,"dd MMMM"))),u.a.createElement("h5",null,"per ",u.a.createElement("a",{href:H[d].meta.tested.source,target:"_noblank"},"source"))))),u.a.createElement("div",{className:"map-switcher",ref:N},u.a.createElement("div",{className:"highlight ".concat(p),style:{transform:"translateX(".concat(0*x,"px)"),opacity:0}}),u.a.createElement("div",{className:"clickable",onClick:function(){v("confirmed"),Object(L.a)({targets:".highlight",translateX:"".concat(0*x,"px"),easing:"spring(1, 80, 90, 10)"})}}),u.a.createElement("div",{className:"clickable",onClick:function(){v("active"),Object(L.a)({targets:".highlight",translateX:"".concat(.25*x,"px"),easing:"spring(1, 80, 90, 10)"})}}),u.a.createElement("div",{className:"clickable",onClick:function(){v("recovered"),Object(L.a)({targets:".highlight",translateX:"".concat(.5*x,"px"),easing:"spring(1, 80, 90, 10)"})}}),u.a.createElement("div",{className:"clickable",onClick:function(){v("deceased"),Object(L.a)({targets:".highlight",translateX:"".concat(.75*x,"px"),easing:"spring(1, 80, 90, 10)"})}})),u.a.createElement(O.a,{data:H[d]}),u.a.createElement(E.a,{timeseries:U[d]}),u.a.createElement(g.a,Object.assign({isCountryLoaded:!1},{stateCode:d,data:H,regionHighlighted:P,setRegionHighlighted:D,mapStatistic:p,setMapStatistic:v})),u.a.createElement(R,{stateCode:d,data:H,timeseries:U})),u.a.createElement("div",{className:"state-right"},u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"district-bar",style:M?{}:{display:"flex"}},u.a.createElement("div",{className:"district-bar-left fadeInUp"},u.a.createElement("h2",{className:p},"Top districts"),u.a.createElement("div",{className:"districts ".concat(M?"is-grid":""),style:M?{gridTemplateRows:"repeat(".concat(V,", 2rem)")}:{}},Object.keys((null===(i=H[d])||void 0===i?void 0:i.districts)||{}).filter((function(t){return"Unknown"!==t})).sort((function(t,e){return function(t,e){var a=H[d].districts[t],n=H[d].districts[e];return Object(c.j)(n,"total",p)-Object(c.j)(a,"total",p)}(t,e)})).slice(0,M?void 0:5).map((function(t){var e=Object(c.j)(H[d].districts[t],"total",p),a=Object(c.j)(H[d].districts[t],"delta",p);return u.a.createElement("div",{key:t,className:"district"},u.a.createElement("h2",null,Object(c.g)(e)),u.a.createElement("h5",null,l(t)),"active"!==p&&u.a.createElement("div",{className:"delta"},u.a.createElement("h6",{className:p},a>0?"\u2191"+Object(c.g)(a):"")))}))),Object.keys((null===(o=H[d])||void 0===o?void 0:o.districts)||{}).length>5&&u.a.createElement("button",{className:"button",onClick:function(){C(!M)}},u.a.createElement("span",null,M?"View less":"View all"))),u.a.createElement("div",{className:"district-bar-right"},("confirmed"===p||"deceased"===p)&&u.a.createElement("div",{className:"happy-sign"},Object.keys(U[d]||{}).slice(-r.m).every((function(t){return 0===Object(c.j)(U[d][t],"delta",p)}))&&u.a.createElement("div",{className:"alert ".concat("confirmed"===p?"is-green":"")},u.a.createElement(F,null),u.a.createElement("div",{className:"alert-right"},"No new ",p," cases in the past five days"))),u.a.createElement(h,{timeseries:U[d],statistic:p}))),u.a.createElement(I.a,Object.assign({timeseries:U[d]},{regionHighlighted:P,setRegionHighlighted:D}))))),u.a.createElement(j.a,null))}))}}]);
//# sourceMappingURL=State.22c3c81f.chunk.js.map