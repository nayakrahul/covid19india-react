{"version":3,"sources":["../node_modules/react-use/esm/useLocalStorage.js","components/loaders/Timeseries.js","components/TimeseriesExplorer.js","../../src/shared/uid.ts","../../src/web/Svg.tsx","../../src/web/ContentLoader.tsx","../../src/web/presets/FacebookStyle.tsx"],"names":["noop","useLocalStorage","key","initialValue","options","isClient","Error","deserializer","raw","value","JSON","parse","_a","useState","serializer","String","stringify","localStorageValue","localStorage","getItem","setItem","state","setState","set","useCallback","valOrFunc","newState","remove","removeItem","undefined","TimeseriesLoader","windowWidth","window","innerWidth","width","viewBox","height","speed","cx","cy","r","Timeseries","lazy","React","memo","stateCode","timeseries","timelineDate","date","regionHighlighted","setRegionHighlighted","anchor","setAnchor","t","useTranslation","TIMESERIES_OPTIONS","MONTH","timeseriesOption","setTimeseriesOption","chartType","setChartType","isUniform","setIsUniform","isLog","setIsLog","explorerElement","useRef","isVisible","useIsVisible","once","selectedRegion","useMemo","districts","districtName","selectedTimeseries","dates","regions","states","Object","keys","filter","code","map","reduce","acc1","acc2","today","getIndiaYesterdayISO","pastDates","TWO_WEEKS","cutOffDate","formatISO","sub","parseIndiaDate","weeks","representation","months","handleChange","target","resetDropdown","className","classnames","stickied","style","display","ref","onClick","bind","this","entries","TIMESERIES_CHART_TYPES","index","ctype","htmlFor","id","type","checked","aria-label","onChange","disabled","region","STATE_NAMES","fallback","values","option","selected","size","prevProps","currProps","forceRender","equal","SVG","animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","title","fixedId","Math","random","toString","substring","idClip","idGradient","idAria","rtlStyle","transform","keyTimes","dur","React.createElement","role","props","x","y","clipPath","fill","offset","stopColor","stopOpacity","attributeName","repeatCount","defaultProps","ContentLoader","Svg","Facebook","ReactContentLoaderFacebook","rx"],"mappings":"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","file":"static/js/24.4c670137.chunk.js","sourcesContent":["/* eslint-disable */\nimport { useState, useCallback } from 'react';\nimport { isClient } from './util';\nvar noop = function () { };\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isClient) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options ? (options.raw ? function (value) { return value; } : options.deserializer) : JSON.parse;\n    var _a = useState(function () {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    }), state = _a[0], setState = _a[1];\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\nconst TimeseriesLoader = () => {\n  const windowWidth = window.innerWidth;\n  const width = windowWidth > 769 ? 480 : windowWidth;\n  const height = 160 * 5;\n\n  return (\n    <ContentLoader\n      viewBox={`0 0 ${width} ${height}`}\n      height={height}\n      width={width}\n      speed={2}\n    >\n      <circle cx={0.4 * width} cy={height / 2} r=\"5\" />\n      <circle cx={0.5 * width} cy={height / 2} r=\"5\" />\n      <circle cx={0.6 * width} cy={height / 2} r=\"5\" />\n    </ContentLoader>\n  );\n};\n\nexport default TimeseriesLoader;\n","import TimeseriesLoader from './loaders/Timeseries';\n\nimport {\n  TIMESERIES_CHART_TYPES,\n  TIMESERIES_OPTIONS,\n  STATE_NAMES,\n} from '../constants';\nimport useIsVisible from '../hooks/useIsVisible';\nimport {getIndiaYesterdayISO, parseIndiaDate} from '../utils/commonFunctions';\n\nimport {IssueOpenedIcon, PinIcon, ReplyIcon} from '@primer/octicons-v2-react';\nimport classnames from 'classnames';\nimport {formatISO, sub} from 'date-fns';\nimport equal from 'fast-deep-equal';\nimport React, {\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  lazy,\n  Suspense,\n} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useLocalStorage} from 'react-use';\n\nconst Timeseries = lazy(() => import('./Timeseries'));\n\nfunction TimeseriesExplorer({\n  stateCode,\n  timeseries,\n  date: timelineDate,\n  regionHighlighted,\n  setRegionHighlighted,\n  anchor,\n  setAnchor,\n}) {\n  const {t} = useTranslation();\n  const [timeseriesOption, setTimeseriesOption] = useState(\n    TIMESERIES_OPTIONS.MONTH\n  );\n  const [chartType, setChartType] = useLocalStorage('chartType', 'total');\n  const [isUniform, setIsUniform] = useLocalStorage('isUniform', true);\n  const [isLog, setIsLog] = useLocalStorage('isLog', false);\n  const explorerElement = useRef();\n  const isVisible = useIsVisible(explorerElement, {once: true});\n\n  const selectedRegion = useMemo(() => {\n    if (timeseries?.[regionHighlighted.stateCode]?.districts) {\n      return {\n        stateCode: regionHighlighted.stateCode,\n        districtName: regionHighlighted.districtName,\n      };\n    } else {\n      return {\n        stateCode: regionHighlighted.stateCode,\n        districtName: null,\n      };\n    }\n  }, [timeseries, regionHighlighted.stateCode, regionHighlighted.districtName]);\n\n  const selectedTimeseries = useMemo(() => {\n    if (selectedRegion.districtName) {\n      return timeseries?.[selectedRegion.stateCode]?.districts?.[\n        selectedRegion.districtName\n      ]?.dates;\n    } else {\n      return timeseries?.[selectedRegion.stateCode]?.dates;\n    }\n  }, [timeseries, selectedRegion.stateCode, selectedRegion.districtName]);\n\n  const regions = useMemo(() => {\n    const states = Object.keys(timeseries || {})\n      .filter((code) => code !== stateCode)\n      .map((code) => {\n        return {\n          stateCode: code,\n          districtName: null,\n        };\n      });\n    const districts = Object.keys(timeseries || {}).reduce((acc1, code) => {\n      return [\n        ...acc1,\n        ...Object.keys(timeseries?.[code]?.districts || {}).reduce(\n          (acc2, districtName) => {\n            return [\n              ...acc2,\n              {\n                stateCode: code,\n                districtName: districtName,\n              },\n            ];\n          },\n          []\n        ),\n      ];\n    }, []);\n\n    return [\n      {\n        stateCode: stateCode,\n        districtName: null,\n      },\n      ...states,\n      ...districts,\n    ];\n  }, [timeseries, stateCode]);\n\n  const dates = useMemo(() => {\n    const today = timelineDate || getIndiaYesterdayISO();\n    const pastDates = Object.keys(selectedTimeseries || {}).filter(\n      (date) => date <= today\n    );\n\n    if (timeseriesOption === TIMESERIES_OPTIONS.TWO_WEEKS) {\n      const cutOffDate = formatISO(sub(parseIndiaDate(today), {weeks: 2}), {\n        representation: 'date',\n      });\n      return pastDates.filter((date) => date >= cutOffDate);\n    } else if (timeseriesOption === TIMESERIES_OPTIONS.MONTH) {\n      const cutOffDate = formatISO(sub(parseIndiaDate(today), {months: 1}), {\n        representation: 'date',\n      });\n      return pastDates.filter((date) => date >= cutOffDate);\n    }\n    return pastDates;\n  }, [selectedTimeseries, timelineDate, timeseriesOption]);\n\n  const handleChange = useCallback(\n    ({target}) => {\n      setRegionHighlighted(JSON.parse(target.value));\n    },\n    [setRegionHighlighted]\n  );\n\n  const resetDropdown = useCallback(() => {\n    setRegionHighlighted({\n      stateCode: stateCode,\n      districtName: null,\n    });\n  }, [stateCode, setRegionHighlighted]);\n\n  return (\n    <div\n      className={classnames('TimeseriesExplorer fadeInUp', {\n        stickied: anchor === 'timeseries',\n      })}\n      style={{display: anchor === 'mapexplorer' ? 'none' : ''}}\n      ref={explorerElement}\n    >\n      <div className=\"timeseries-header\">\n        <div\n          className={classnames('anchor', {\n            stickied: anchor === 'timeseries',\n          })}\n          onClick={\n            setAnchor &&\n            setAnchor.bind(this, anchor === 'timeseries' ? null : 'timeseries')\n          }\n        >\n          <PinIcon />\n        </div>\n\n        <h1>{t('Spread Trends')}</h1>\n        <div className=\"tabs\">\n          {Object.entries(TIMESERIES_CHART_TYPES).map(\n            ([ctype, value], index) => (\n              <div\n                className={`tab ${chartType === ctype ? 'focused' : ''}`}\n                key={ctype}\n                onClick={setChartType.bind(this, ctype)}\n              >\n                <h4>{t(value)}</h4>\n              </div>\n            )\n          )}\n        </div>\n\n        <div className=\"scale-modes\">\n          <label className=\"main\">{t('Scale Modes')}</label>\n          <div className=\"timeseries-mode\">\n            <label htmlFor=\"timeseries-mode\">{t('Uniform')}</label>\n            <input\n              id=\"timeseries-mode\"\n              type=\"checkbox\"\n              className=\"switch\"\n              checked={isUniform}\n              aria-label={t('Checked by default to scale uniformly.')}\n              onChange={setIsUniform.bind(this, !isUniform)}\n            />\n          </div>\n          <div\n            className={`timeseries-logmode ${\n              chartType !== 'total' ? 'disabled' : ''\n            }`}\n          >\n            <label htmlFor=\"timeseries-logmode\">{t('Logarithmic')}</label>\n            <input\n              id=\"timeseries-logmode\"\n              type=\"checkbox\"\n              checked={chartType === 'total' && isLog}\n              className=\"switch\"\n              disabled={chartType !== 'total'}\n              onChange={setIsLog.bind(this, !isLog)}\n            />\n          </div>\n        </div>\n      </div>\n\n      {regions && (\n        <div className=\"state-selection\">\n          <div className=\"dropdown\">\n            <select\n              value={JSON.stringify(selectedRegion)}\n              onChange={handleChange}\n            >\n              {regions.map((region) => {\n                return (\n                  <option\n                    value={JSON.stringify(region)}\n                    key={`${region.stateCode}-${region.districtName}`}\n                  >\n                    {region.districtName\n                      ? t(region.districtName)\n                      : t(STATE_NAMES[region.stateCode])}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n          <div className=\"reset-icon\" onClick={resetDropdown}>\n            <ReplyIcon />\n          </div>\n        </div>\n      )}\n\n      {isVisible && (\n        <Suspense fallback={<TimeseriesLoader />}>\n          <Timeseries\n            timeseries={selectedTimeseries}\n            regionHighlighted={selectedRegion}\n            {...{dates, chartType, isUniform, isLog}}\n          />\n        </Suspense>\n      )}\n\n      {!isVisible && <div style={{height: '50rem'}} />}\n\n      <div className=\"pills\">\n        {Object.values(TIMESERIES_OPTIONS).map((option) => (\n          <button\n            key={option}\n            type=\"button\"\n            className={classnames({selected: timeseriesOption === option})}\n            onClick={() => setTimeseriesOption(option)}\n          >\n            {t(option)}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"alert\">\n        <IssueOpenedIcon size={24} />\n        <div className=\"alert-right\">\n          {t('Tested chart is independent of uniform scaling')}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (currProps.forceRender) {\n    return false;\n  } else if (!currProps.timeseries && prevProps.timeseries) {\n    return true;\n  } else if (currProps.timeseries && !prevProps.timeseries) {\n    return false;\n  } else if (\n    !equal(\n      currProps.regionHighlighted.stateCode,\n      prevProps.regionHighlighted.stateCode\n    )\n  ) {\n    return false;\n  } else if (\n    !equal(\n      currProps.regionHighlighted.districtName,\n      prevProps.regionHighlighted.districtName\n    )\n  ) {\n    return false;\n  } else if (!equal(currProps.date, prevProps.date)) {\n    return false;\n  } else if (!equal(currProps.anchor, prevProps.anchor)) {\n    return false;\n  }\n  return true;\n};\n\nexport default React.memo(TimeseriesExplorer, isEqual);\n","export default (): string =>\n  Math.random()\n    .toString(36)\n    .substring(6)\n","import * as React from 'react'\n\nimport uid from '../shared/uid'\nimport { IContentLoaderProps } from './'\n\nconst SVG: React.FC<IContentLoaderProps> = ({\n  animate,\n  backgroundColor,\n  backgroundOpacity,\n  baseUrl,\n  children,\n  foregroundColor,\n  foregroundOpacity,\n  gradientRatio,\n  uniqueKey,\n  interval,\n  rtl,\n  speed,\n  style,\n  title,\n  ...props\n}) => {\n  const fixedId = uniqueKey || uid()\n  const idClip = `${fixedId}-diff`\n  const idGradient = `${fixedId}-animated-diff`\n  const idAria = `${fixedId}-aria`\n\n  const rtlStyle = rtl ? { transform: 'scaleX(-1)' } : null\n  const keyTimes = `0; ${interval}; 1`\n  const dur = `${speed}s`\n\n  return (\n    <svg\n      aria-labelledby={idAria}\n      role=\"img\"\n      style={{ ...style, ...rtlStyle }}\n      {...props}\n    >\n      {title ? <title id={idAria}>{title}</title> : null}\n      <rect\n        role=\"presentation\"\n        x=\"0\"\n        y=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        clipPath={`url(${baseUrl}#${idClip})`}\n        style={{ fill: `url(${baseUrl}#${idGradient})` }}\n      />\n\n      <defs role=\"presentation\">\n        <clipPath id={idClip}>{children}</clipPath>\n\n        <linearGradient id={idGradient}>\n          <stop\n            offset=\"0%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio}; ${-gradientRatio}; 1`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"50%\"\n            stopColor={foregroundColor}\n            stopOpacity={foregroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio / 2}; ${-gradientRatio / 2}; ${1 +\n                  gradientRatio / 2}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"100%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`0; 0; ${1 + gradientRatio}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nSVG.defaultProps = {\n  animate: true,\n  backgroundColor: '#f5f6f7',\n  backgroundOpacity: 1,\n  baseUrl: '',\n  foregroundColor: '#eee',\n  foregroundOpacity: 1,\n  gradientRatio: 2,\n  id: null,\n  interval: 0.25,\n  rtl: false,\n  speed: 1.2,\n  style: {},\n  title: 'Loading...',\n}\n\nexport default SVG\n","import * as React from 'react'\n\nimport { Facebook, IContentLoaderProps } from '.'\nimport Svg from './Svg'\n\nconst ContentLoader: React.FC<IContentLoaderProps> = props =>\n  props.children ? <Svg {...props} /> : <Facebook {...props} />\n\nexport default ContentLoader\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderFacebook: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 476 124\" {...props}>\n    <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n    <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderFacebook\n"],"sourceRoot":""}